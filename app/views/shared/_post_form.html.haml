.mat-card
  =form_for(@post) do |f|
    =render 'shared/error_messages', object: f.object
    =f.text_area :content, placeholder: "Create new post..."
    =f.submit "Post", class: "form-submit"
    %label
      =f.file_field :picture, accept: 'image/jpeg,image/gif/,image/png'
      .photo-label attach photo

:javascript
  $('#post_picture').bind('change', function() {

    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      console.log("in post if");
      alert('Maximum file size is 5MB. Please choose a smaller file.');
    } else {
      console.log("in post else");
      var photo_name = this.files[0].name;
      $(this).next('.photo-label').text(function(i, text){
        return text = photo_name + " attached.";
      }); 
    }
  });
